<!DOCTYPE html>
<html lang="pt-br">

<head>
  <title>GamersOn</title>
  <link rel="shortcut icon" href="/codigo/img/icon.ico" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="/codigo/css/janelaperfil.css">
  <script>
    window.addEventListener('DOMContentLoaded', (event) => {
      var nome = localStorage.getItem('userName');
      var frase = localStorage.getItem('pfp');
      var bio = localStorage.getItem('bio');


      document.querySelector('.profile-name').textContent = nome;
      document.querySelector('.profile-description').textContent = frase;
      document.querySelector('.bio-section p').textContent = bio;
    });
    let val = sessionStorage.getItem("chave");

  </script>
</head>
<body>
  <div class="header">
    <div class="header-container"></div>
    <a href="/codigo/html/index.html" class="header-item">Home</a>
    <a href="/codigo/html/usuariosJogos.html" class="header-item">Jogos</a>
    <a href="/codigo/html/perfil.html" class="header-item">Perfil</a>
    <a href="/codigo/html/login.html" class="header-item">Login</a>
  </div>
  <div class="page-container">
    <a href="/codigo/html/jogadores.html" class="close-button">x</a>
    <div class="profile">
      <div class="profile-header">
        <img src="https://png.pngtree.com/thumb_back/fh260/background/20230301/pngtree-gaming-youtube-banner-background-no-text-blue-and-black-2560x1440-vector-image_1724707.jpg" alt="Imagem de Fundo" class="background-image">
        <img src="https://t4.ftcdn.net/jpg/02/15/84/43/360_F_215844325_ttX9YiIIyeaR7Ne6EaLLjMAmy4GvPC69.jpg" alt="Imagem de Perfil" class="profile-picture">
        <h1 class="profile-name"> </h1>
        <p class="profile-description"> </p>
      </div>
      <div class="profile-content">
        <div class="bio-section">
          <h2>Bio</h2>
          <p> </p>
        </div>
        <h2>Jogos que eu curto</h2>
        <div class="game-images">
          <div class="game-item">
            <div class="game-box">
              <img src="/codigo/img/1977436.jpg" alt="Game 1">
              <p>jogo</p>
            </div>
          </div>
          <div class="game-item">
            <div class="game-box">
              <img src="/codigo/img/1977436.jpg" alt="Game 2">
              <p>calvos :(</p>
            </div>
          </div>
          <div class="game-item">
            <div class="game-box">
              <img src="/codigo/img/1977436.jpg" alt="Game 3">
              <p>overwatch</p>
            </div>
          </div>
          <div class="game-item">
            <div class="game-box">
              <img src="/codigo/img/1977436.jpg" alt="Game 4">
              <p>calvos :(</p>
            </div>
          </div>
          <div class="game-item">
            <div class="game-box">
              <img src="/codigo/img/1977436.jpg" alt="Game 10">
              <p>calvos :(</p>
            </div>
          </div>
        </div>
        <h2>Chama ai</h2>
        <div class="image-footer">
          <a href="clicavel.html">
            <a href="https://discord.gg/xEh72uVmT"> <img src="/codigo/img/discord-logo-1-1.png" alt="discord"></a>
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', function () {

      const idLogado = localStorage.getItem('Logado');
      const dadosUsuario = JSON.parse(localStorage.getItem('dadosUsuario'));

      if (idLogado !== null && idLogado >= 0 && idLogado < dadosUsuario.length) {
        console.log(val);
        const profileName = document.querySelector('.profile-name');
        const profileDescription = document.querySelector('.profile-description');
        const bioSection = document.querySelector('.bio-section');
        
        profileName.textContent = dadosUsuario[val].userName;
        profileDescription.textContent = dadosUsuario[val].pfp;
        bioSection.querySelector('p').textContent = dadosUsuario[val].bio;
      }
    });
  </script>

<script>
  function loadFavoriteGames() {
  const idLogado = localStorage.getItem('Logado');
  const dadosUsuario = JSON.parse(localStorage.getItem('dadosUsuario'));
  const gameImagesContainer = document.querySelector('.game-images');

  // Verifica se o usuário está logado e se existem dados do usuário
  if (idLogado !== null && idLogado >= 0 && idLogado < dadosUsuario.length) {
    const jogosFavoritos = dadosUsuario[idLogado].jogoFavoritos;

    // Limpa o conteúdo atual da caixa de jogos favoritos
    gameImagesContainer.innerHTML = '';

    // Preenche a caixa de jogos favoritos
    for (let i = 0; i < jogosFavoritos.length; i++) {
      const jogoFavorito = jogosFavoritos[i];

      // Cria a caixa de jogo favorito
      const gameItem = document.createElement('div');
      gameItem.classList.add('game-item');

      const gameBox = document.createElement('div');
      gameBox.classList.add('game-box');

      const gameImage = document.createElement('img');
      gameImage.src = ''; // Defina o caminho da imagem do jogo favorito aqui
      gameImage.alt = 'Game Image';

      const gameTitle = document.createElement('p');
      gameTitle.textContent = jogoFavorito;

      gameBox.appendChild(gameTitle);
      gameItem.appendChild(gameBox);
      gameImagesContainer.appendChild(gameItem);
    }
  }
}

// Chame a função loadFavoriteGames() para preencher a caixa de jogos favoritos no carregamento da página
loadFavoriteGames();
</script>

</body>

</html>